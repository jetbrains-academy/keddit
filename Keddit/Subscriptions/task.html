<html>
<p><b>Subscriptions</b></p>
<p>In order to avoid leaving your subscriptions in the middle of a process while leaving from a fragment or closing your App, you must manage it carefully and a good practice is to unsubscribe all the subscriptions that you create.</p>
<p>A good technique to do so is to add all the subscription that you create in a <code>CompositeSubscription</code> object, this class is provided by RxJava and allows you to unsubscribe all the subscription that it has with just one <code>clear()</code> method call. Time to initialize a <code>CompositeSubscription</code> object inside the <code>onResume</code> method and unsubscribe when the <code>onPause</code> method is invoked. The code will be something like this:</p>
<pre><code>var subscriptions = CompositeSubscription()

override fun onResume() {
    super.onResume()
    //reassign the CompositeSbscription() to subscriptions here
}

override fun onPause() {
    super.onPause()
    //call clear() method of subscriptions here
}</code></pre>
<p>The only thing that we have to do now is to add our subscription to this new CompositeSubscription object and we are safe to leave our App (or fragment in this case) at any moment:</p>
<pre><code>private fun requestNews() {
    val subscription = newsManager.getNews()
            .subscribeOn(Schedulers.io())
            .subscribe (...)
    // add the subscription to subscriptions here by calling the add method for them with our subscription as an argument.
}</code></pre>
<p>To make code more readable all this logic is moved to a new base fragment called “RxBaseFragment” which all this logic by default. Checkout the code to see with more details.</p>
<p><b>Task:</b></p>
<p>Finish the <code>RxBaseFragment.kt</code> code: complete the subscription assignment, modify <code>onResume()</code> to reassign subscriptions there, clear the subscriptions in <code>onPause()</code> call.</p>
<p>Also, finish the <code>NewsFragment.kt</code> by completing <code>requestNews()</code> function - it should add a new subscription to other subscriptions</p>
<p>As you can see Kotlin & RxJava works perfect together and in this tutorial we are just seeing a small part of all the things that you can do with RxJava and thanks to Kotlin the code is totally readable and easy to understand.</p>

</html>